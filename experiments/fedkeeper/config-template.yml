database:
  host: <host>
  port: <port>
  username: <username>
  password: <password>

providers:
  cluster-1:
    type: openwhisk
    params:
      apihost: <apihost>
      auth: <auth-token>

fedkeeper:
  provider: cluster-1

  invoker:
    type: openwhisk
    params:
      name: invoker
      file: <repo-location>/functions/openwhisk/invoker/main.py
      image: andreasgrafberger/fedless-openwhisk
      memory: 256
      timeout: 60000

  evaluator:
    type: openwhisk
    params:
      name: evaluator
      file: <repo-location>/functions/openwhisk/evaluator/main.py
      image: andreasgrafberger/fedless-openwhisk
      memory: 2048
      timeout: 60000

  aggregator:
    type: openwhisk
    params:
      name: aggregator
      file: <repo-location>/functions/openwhisk/aggregator/main.py
      image: andreasgrafberger/fedless-openwhisk
      memory: 2024
      timeout: 60000


clients:
  functions:
    - replicas: 3
      function:
        type: openwhisk
        params:
          namespace: guest
          package: default
          name: client
          auth_token: <auth-token>
          api_host: <apihost>
          self_signed_cert: True
    - replicas: 47
      function:
        type: lambda
        params:
          apigateway: <api-gateway-endpoint>
    - replicas: 50
      function:
        type: gcloud
        params:
          url: <gcloud-function-endpoint>


  hyperparams:
    epochs: 10
    batch_size: 10
    optimizer:
      class_name: "Adam"
      config:
        name: "Adam"
        learning_rate: 0.001

