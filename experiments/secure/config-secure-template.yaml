
database:
  host: '138.246.235.163'

providers:
  lrz-1:
    type: openwhisk
    params:
      apihost: <url>
      auth: <token>

cognito:
  user_pool_id: eu-west-<xxx>
  region_name: eu-west-1
  auth_endpoint: <domain>/oauth2/token
  invoker_client_id: <id>
  invoker_client_secret: <secret>

fedkeeper:
  provider: lrz-1

  invoker:
    type: openwhisk
    params:
      name: invoker
      file: /Users/andreas/workspace/thesis-code/functions/openwhisk/invoker/main.py
      image: andreasgrafberger/fedless-openwhisk
      memory: 512
      timeout: 60000

  evaluator:
    type: openwhisk
    params:
      name: evaluator
      file: /Users/andreas/workspace/thesis-code/functions/openwhisk/evaluator/main.py
      image: andreasgrafberger/fedless-openwhisk
      memory: 2048
      timeout: 60000

  aggregator:
    type: openwhisk
    params:
      name: aggregator
      file: /Users/andreas/workspace/thesis-code/functions/openwhisk/aggregator/main.py
      image: andreasgrafberger/fedless-openwhisk
      memory: 2024
      timeout: 60000


clients:
  functions:
    - replicas: 45
      function:
        type: lambda
        params:
          apigateway: <url>
          api_key: <key>
    - replicas: 5
      function:
        type: openwhisk-web
        params:
          endpoint: <url>
          token: <token>

  hyperparams:
    epochs: 1
    batch_size: 32
    optimizer:
      class_name: "Adam"
      config:
        name: "Adam"
        learning_rate: 0.001
