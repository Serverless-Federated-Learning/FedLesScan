#!/usr/bin/env bash
client_ids=(
  97be24b0-3af0-46e9-ac58-ffd30c917200
  5446939a-2103-450e-89af-ad39ae0949f8
  378ef375-5fd1-4f03-bd2e-160fa7e40005
  ddf12362-358a-4275-99d1-79c74e579521
  2ff1eb3e-9849-4df9-aaa6-1a6ab0672799
  d0825a68-dd1b-47a2-b31e-04db8fbb8876
  45cfcd2d-a481-487d-a263-068057f65e4e
  ad774d40-5d2e-4cee-9c24-39e43a29f684
  cdc1314a-f9e5-4ce8-8ee7-f097d4b51d80
  1ef2b2c9-fd1f-4192-8af4-ba691b6e13a3
  20eca384-293d-43b4-8e06-3e9299ac63e4
  d3057f81-a334-4469-9e4a-205554b4ef15
  eb0760f9-a397-45de-b16e-c57e22c73b15
  bf4d2986-bf95-4365-9d50-450f124fe331
  ffada164-ecb9-487d-9954-1e92df460c01
  b7b2ccb6-4a3f-41df-9c31-6a97e91ab0a1
  da1f3ef9-527e-4456-8baa-b667204c7352
  929aca68-839b-45a3-8b91-8bc029d9dfce
  62e9cf0e-c591-487b-8d48-01261cfa73b6
  429a60bc-3406-4ad8-84f7-49a97e3e5ca2
  853f07c9-1c0a-47fb-8ca4-0fc0f703c5a7
  db32ee8d-84e7-407d-aeba-a7f59d32ae48
  b70ed2b8-154e-47d1-95f5-598725a23542
  7052b4c1-9443-4d1b-a380-5ad9801e28d5
  d5d0f36a-96b7-4d9a-a52f-c0d6b61b4ab7
  e5d3f65d-bda4-462b-931e-87ef83fd18f4
  3d88d32b-c64b-44c2-9094-d15ebb191cc2
  29744697-9678-4b31-934b-2bdadaed9849
  9ce00d90-062d-4367-bd88-a109e0c31a85
  c9b34074-563e-4f69-a3a1-8dfc1fef324a
  e3f4a857-6744-4a51-b250-a73b3ee89bdc
  54f9fd39-d78c-40a9-8247-f3d6e105b3ec
  2fb3e4b4-be00-45e1-ba04-df6be9d0a087
  c1c839cd-7e26-426b-b94f-66334d686906
  eb6297c7-f9ba-4097-a8dd-917b87822562
  7e9320e0-dce3-43de-b690-6fd127d5fdfc
  811a582e-ccc2-42eb-b5a9-1b863f1d227c
  8a7ac68b-3cbf-41f5-b46d-93b786ce7504
  dfd16fa7-d0e7-4e6a-94b1-38c1ca8e21fb
  f8b4eafc-bfe7-40d1-bef8-b494426824dd
  2154fc3a-7572-4bad-975d-75eac27562c7
  707c933e-66f4-4cbb-87f2-92d701147427
  5e71ea0a-e464-4288-8980-1141e64e69f5
  064e1a15-c173-4cb5-ac09-5aa21592c32b
  defb586c-bce7-40a3-b8c6-0e068d21851d
  adc6854c-c9d7-4b78-84d9-a2365775cde2
  290abf0a-75d7-42b4-8926-a727278a155f
  85749ae0-bb2c-4bef-81cc-4befa15a77eb
  e3db6957-71d6-4a3c-a2a0-05eaeaa84197
  bf83ea04-a570-4399-a552-fdae8c958ded
  e0f85db0-8793-4184-bbe6-90d9da9b074e
  68aae9c3-c1f5-45f9-a271-481341a464aa
  7fcdaa70-c6ac-459c-9ddc-5ac7cf775671
  73765697-97ba-4de6-b0d9-a61e756702dc
  a0d9b63f-619a-4909-9e76-10e46490d681
  3ef94fa1-a5bf-4ae5-992c-c913936ae69c
  5861a3bd-442a-4814-a43b-9372cca75610
  b6c8c512-6c16-425e-9d72-ccdee75e0017
  4af77058-5a6d-4ac6-811d-dc8c51e8022e
  f6b5dfda-40cc-4be3-a778-afd76a13a02e
  8dba9b02-5d61-4cae-8f34-96b63daa9eb6
  f7e95bb4-1cf4-4a85-9f06-bd824d630831
  a59a3bf1-7c03-4599-a876-680e907c272c
  60d15ec8-efb3-42e5-8763-1267e4b38a43
  c5812568-7ccd-4fe2-b716-fd479b8b1e02
  a6f985f1-234d-4396-b164-07f649a47c38
  6a31e9ba-5626-4cc9-b041-ac30e125feee
  9a7f0f6e-0e6d-4148-9d7b-acb6e0ecb592
  151803b4-b780-442f-bc73-40d1266353bc
  f9e2231d-9503-4e48-a324-979fb54270a7
  7a298bc2-c377-458b-ba31-99ca367b542e
  dfb8eeb7-e886-4d53-aa49-c011e7bdf3e4
  0cb567be-41b1-4d1c-a907-3cad7e66e972
  76ac38fe-4bcd-4d18-b90c-1a5df6eeed94
  7b1fe5cc-9bde-4268-b904-3ab48aab7377
  432552ef-672f-4365-90b9-b4dfbcd2cb94
  40065d71-c878-4a8b-be0b-e931588333af
  f139f684-888d-4946-8408-3f0cf7806e5c
  d53d6083-d798-43aa-8e30-dbbc561775fa
  ead6f668-04ef-45de-97d7-28cedbc92f0a
  583d162d-ba99-49e4-aa62-585c7b72f06a
  0a4d476a-ee3c-4f44-89d7-d958bdd5d11c
  a97bded7-2f61-48a8-9cba-48b131245c40
  2196656c-ec58-40dc-92ea-78848991eb6e
  f1ff1c21-2ec3-4523-b341-69c8f74dc854
  bb49a8dd-f307-41c8-9612-59ee644468ea
  d48dede0-14bd-4abb-8130-c7890616e29e
  2812b6d3-7b85-4730-887e-30bbf00d315e
  cebc5fc8-984d-4667-a86b-50d888d18ee4
  c21d9442-331b-4948-807c-fdd636032f39
  00f8a971-5485-4cf0-8089-77d80e70c382
  9c702511-9014-44b3-a6a4-93313996ad99
  37e49814-679c-434e-8433-6f7ed8c96244
  bf565892-73cd-4036-9b94-75b94d628f14
  fdeff7c6-91ea-49c3-891d-1b387359bc6f
  d2c1f3be-7f8e-4167-8f68-2d9942abf764
  636b51ec-71e5-4add-8640-0c718a708338
  7171d830-082f-4872-83fc-c170243193f9
  364ac119-d346-40ac-b45a-c49e15ae6bb3
  dae8bf6e-6011-41c2-9a74-e9bd66f005e8
)

n_invoked="${1:-10}"

for i in "${!client_ids[@]}"; do
  if ((i >= n_invoked)); then
    break
  fi
  fun_id=$((i + 1))
  time curl -X POST -H "X-Require-Whisk-Auth: BrZt9e/O47SzCCJ9Of+I2odcB9RP+Hs5vMGdfGjs" -k \
    "https://localhost:31001/api/v1/web/guest/default/client-indep-$fun_id.json" \
    -d "{\"session_id\": \"bcade7f2-6f2c-4ee6-b1a9-679ec9d26553\", \"round_id\": 0, \"client_id\": \"${client_ids[$i]}\", \"database\": {\"host\": \"138.246.233.217\", \"port\": 31532, \"username\": \"my-admin-user-623\", \"password\": \"\$c3*8UxuBTeLGSxpfJE8^9n*BYg&ch&v\"}}" &
done
-d "{\"session_id\": \"bcade7f2-6f2c-4ee6-b1a9-679ec9d26553\", \"round_id\": 0, \"client_id\": \"dae8bf6e-6011-41c2-9a74-e9bd66f005e8\", \"database\": {\"host\": \"138.246.233.217\", \"port\": 31532, \"username\": \"my-admin-user-623\", \"password\": \"\$c3*8UxuBTeLGSxpfJE8^9n*BYg&ch&v\"}}" &

wait
